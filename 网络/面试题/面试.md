tcp

### tcp和udp
    连接性：TCP是一种面向连接的协议，而UDP是一种无连接的协议。TCP在通信之前需要建立连接，然后再进行数据传输，而UDP直接将数据包发送出去，不需要建立和维护连接。

    可靠性：TCP提供可靠的数据传输，它使用确认和重传机制来确保数据的可靠性。如果数据包丢失或损坏，TCP会自动重传丢失的数据。UDP不提供确认和重传机制，所以对数据传输的可靠性要求较低。

    有序性：TCP保证数据传输的有序性，即发送方发送的数据会按照顺序到达接收方。UDP不保证数据的有序性，接收方收到数据包的顺序可能与发送方发送的顺序不同。

    流量控制和拥塞控制：TCP具有流量控制和拥塞控制的机制，可以根据网络状况来调整数据传输的速率，防止网络拥塞。UDP没有流量控制和拥塞控制的机制，数据发送的速率不会根据网络状况进行调整。

    开销：TCP的开销较大，因为它需要维护连接状态、确认和重传机制等，这些会消耗一定的网络资源。UDP的开销较小，因为它不需要建立连接和维护状态。
    
### 为什么三次握手

    第一次握手（SYN）：客户端向服务器发送一个SYN（同步）请求报文段，其中包含客户端的初始序列号（ISN）并设置SYN标志位。

    第二次握手（SYN+ACK）：服务器接收到客户端发送的SYN请求报文后，会发送一个带有确认标志（ACK）和SYN标志的报文，即SYN+ACK报文，确认客   户端的SYN请求，并通知客户端已收到该请求。

    第三次握手（ACK）：客户端收到服务器发送的SYN+ACK报文后，会向服务器发送一个确认报文，即ACK报文，通知服务器已收到确认请求。

`主要避免以下两种情况`

- 旧连接请求被错误地当作新连接请求处理：考虑这样一种情况，客户端发送一个连接请求到服务器，但由于网络延迟等原因，该请求长时间未被服务器接收。客户端可能会认为该连接请求丢失，并于一段时间后重新发送一个新的连接请求。如果只有两次握手，服务器收到这个旧连接请求时无法判断是否是重新发送的请求还是一个新的连接请求，从而可能错误地建立了一个旧连接。

- 连接建立过程中网络延迟导致的重复连接请求：假设客户端发送了一个连接请求，但由于网络延迟，该请求在一定时间后才到达服务器。然而，在这段延迟期间，服务器可能已经接收到客户端的请求并建立了连接，然后又主动关闭了连接。服务器无法分辨这两个连接请求是否是同一个，如果只有两次握手，就会导致服务器错误地接受了一个非法的连接请求。

### 为什么四次挥手

- 第一次挥手（FIN）：当一方（通常是客户端）想要关闭连接时，它会发送一个带有FIN标志位的报文段，表示不再有数据要发送，但仍然可以接收数据。
  
- 第二次挥手（ACK）：接收到关闭请求的另一方（通常是服务器）收到FIN报文后，会发送一个确认报文，其中ACK标志位被设置为1，表示已经收到关闭请求。这个ACK报文段同时也用来传输可能还未完成的数据。
  
- 第三次挥手（FIN）：完成数据的发送后，另一方（通常是服务器）也会发送一个带有FIN标志位的报文段，表示该方面也希望关闭连接，不再有数据需要发送。
  
- 第四次挥手（ACK）：接收到关闭请求的一方（通常是客户端）收到FIN报文后，会发送一个确认报文，确认关闭请求，并等待一段时间来确保另一方收到确认。这个ACK报文段也会用来传输可能还未完成的数据。

### timewait是什么状态

timewait情况:关闭方第四次挥手,如果消息无法到达接收方,为了确保接收端能够正常关闭,需要等待2MSL,否则接收端可能收不到第四次挥手,重新发送第三次挥手,这样发送端就会出问题.

### closewait是什么状态

closewait情况:第二次挥手,接收端为closewait状态,等待将消息发送完毕

### 出现大量timewait是为什么,怎么做

可能是在第四次挥手出现问题,没办法发送出第四次挥手,导致出现大量timewait
或者出现大量连接同时断开,因为都需要等待2MSL时间

`长连接,连接池`

### 粘包怎么解决

- 分隔符
- 消息头

http

### http code

403 forbidden
401 Unauthorized

### http header

### https 过程

- 客户端发起连接
  - 生成随机数1
  - 告诉服务器自己支持什么加密算法
- 服务器发送随机数2
  - 并且告诉客户端选择的加密算法
  - 发送服务器的证书,包括公钥
- 客户端验证证书
  - 生成随机数3
  - 生成会话秘钥
- 客户端发送随机数3
  - 服务器生成会话秘钥

双方通过会话秘钥和协定的对称加密算法进行通信
### http和rpc

### 